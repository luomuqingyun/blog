---
title: 如何高效的进行代码格式整理
author: luomuqingyun
comments: true
category:
  - 编程
  - 工具
tags:
  - 编程经验
  - 开发工具
excerpt:
  - 代码整理工具
date: 2025-05-19 14:42:00
---
占位
## 如何快速整理代码
作为一名开发者，在平时的学习、工作过程中不免会去copy别人的代码。这时候难免会出现你copy的代码与你现有代码格式差异比较大。如果只是简单的copy几行代码那还好，自己手动调调就可以了。但遇到需要整个文件，甚至整个工程都要调格式呢？这该怎么办？今天就介绍一款神器给大家，希望它能助你事半功倍。

这款软件就是——`astyle`，强大的代码格式化软件。因为现在是以单片机开发技巧做介绍，所以这里选用keil软件做示例。文后有软件官网地址，需要可取。
## 配置tool选项
这款工具可以当插件配置在keil软件中，我们可以在keil软件的`tool`菜单下进行配置。

![tool选项](https://files.mdnice.com/user/38598/c239af97-2210-4d44-b6f2-17f02f8ee003.png)

## 新建命令
点击配置菜单后在弹出的窗口中新建两条命令：
>1. astyle for all files
>2. astyle for current file

当然命令名称都是可以随意取的，你能识别就好，就像你的名字一样。

接下来的配置才是关键所在。

![新建命令](https://files.mdnice.com/user/38598/08228f58-7e78-4914-82cc-c30d5ca2cb05.png)

在`conmand`栏选中添加你自己存放该软件的目录，选中该软件。

最后在`arguments`栏填入执行命令，为新建的两条命令分别设置：
```
"$E*.c" "$E*.h" --style=ansi --indent=spaces=4
```
```
!E --style=ansi --indent=spaces=4
```
第一条命令是格式化整个工程下所有源文件和头文件的。第二条命令是格式化当前文件的。

其中`style`为设置格式化代码样式。`indent`为tab键转化为空格的样式，可根据自己习惯设置。

关于astyle其他更多的命令具体含义可以参考官网使用说明文档。这里暂不做介绍，后面写这个工具的其他应用时再做详细介绍。
## 配置完成
以上步骤设置好之后就可以点击确定，你重启以下软件就可以使用了。同样是在`tool`菜单下，你点击就可以看到你刚才新建的命令了。

当然以上配置完成后你也可以像keil软件的自带命令一样为其配置快捷键。这样就可以更好的随心所欲的使用了。

![查看命令](https://files.mdnice.com/user/38598/e19ce0af-6877-47a4-85f9-782fa769bb0f.png)
## 使用体验
一切都配置好之后我们可以使用工具来对比一下格式化效果，使用起来是不是非常丝滑？

![整理前](https://files.mdnice.com/user/38598/b60ad7ca-ff0e-4589-ba6b-16a45b14aaa9.png)

![整理后](https://files.mdnice.com/user/38598/729136d2-ed4c-447e-8bac-feb48e25a904.png)

## 说明
astyle软件功能是比较强大的，它格式化的代码种类也不止C语言一种，更多的应用可以参考官方说明，你可以把它添加到环境变量（如果还不知道环境变量是怎么设置的新手朋友可以看今日第二篇文章介绍），结合自己的使用场景调用，也可以把它打包到自己习惯的工具中去。某些使用情况下可能也会出现一些问题（当然一般使用碰到的机率很小），这些问题都是特例，如果你在使用中出现了问题也可以在这里留言，大家一起交流解决。当然不管怎样它只是一个工具而已，至于用的是否流畅、舒适还在于自己的设置。在这里也建议大家把它的格式化设置和自己使用的代码编辑工具格式设置保持一致，以便更舒适的写代码。最关键的是，不管自己使用何种语言开发，尽量让自己的代码写作格式和主流保持一致。相信每一个合格的程序员都是有强迫症的，关于代码格式的事，真的一点都不能忍。

## 下载地址
可在官网自行下载：`https://astyle.sourceforge.net/astyle.html`

有需要的朋友也可在后台回复信息获取：`23032612A`

本想着周末时间大家都happy去了，少有人看技术类文章，但希望给有需要的人get到新方法，也为了发篇文章涨个粉的愿望还是尽早分享给大家吧。如果这篇文章有帮到你，欢迎转发给你的好朋友哟。

![嘿，不点个赞再走？](https://files.mdnice.com/user/38598/5a34f484-ae97-4058-a891-28773b3b04e5.png)
